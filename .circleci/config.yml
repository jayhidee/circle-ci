version: 2.1


jobs:
  save_hello_world_output:
    docker:
      - image: cimg/base:stable
        auth:
            username: mydockerhub-user
            password: $DOCKERHUB_PASSWORD  # context / project UI env-var reference
  
    steps:
      - checkout
      - run: echo "text to output here" > output.txt
      - store_test_results:
          path: test-results
  
  # print_output_file:
deploy-job:
  docker:
    - image: cimg/base:stable
  steps:
    # attach the files you persisted in the doing-things-job
    - attach_workspace:
      at: . # relative path to our working directory
    - run:
      command: |
        echo "this is a deploy step"

workflows:
  build_and_run:
    jobs:
      - save_hello_world_output

